INodesInPath
resolve
inodes
 Call getExistingPathINodes and request 2 INodes.
 SnapshotRootIndex should be 3: {root, Testsnapshot, sub1, s1, file1}
testSnapshotPathINodes
invalidPath
bar
Assert
createSnapshot
getFileStatus
/.snapshot/s1/file1
nodesInPath
s1
getPathNames
assertINodeFile
allowSnapshot
last
 pointing to a snapshot file
fail
.snapshot
The exception is expected: 
invalidPathComponent
fnfe
snapshotFileNode
 Check the INode for file1 (snapshot file)
snapshot
 The last INode should be the INode for sub1
INode
getPathComponents
components
sub1
assertFalse
foo
System
assertSnapshot
 ".snapshot"
assertTrue
invalidDir
 No SnapshotRoot dir is included in the resolved inodes
/.snapshot
getParent
assertEquals
getSnapshot
 SnapshotRootIndex should be 0.
dotSnapshotPath
getFullPathName
snapshotPath
 Call getExistingPathINodes and request only one INode.
names
fsdir
hdfs
getLastINode
toString
 Resolve the path "/TestSnapshot/sub1/.snapshot"
file1
 will ignore ".snapshot"
getINodes
 snapshotRootIndex should be -1.
 /TestSnapshot/sub1/.snapshot/s1/file1

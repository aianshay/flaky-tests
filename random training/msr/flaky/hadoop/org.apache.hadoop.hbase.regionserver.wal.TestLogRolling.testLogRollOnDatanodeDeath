cluster
 normal write
getClass
getName
getFilenum
getLog
Need HDFS-826 for this test
HConstants
conf
invoke
dnprop
writeData
oldFilenum
waitActive
tableName
getRegionServer
getDefaultReplication
 When the META table can be opened, the region servers are running
Need append support for this test
 write some more log data (this should use a new hdfs_out)
startDataNodes
getDataNodes
stm
testLogRollOnDatanodeDeath
setAutoFlush
curTime
size
getPipeline
addFamily
The log shouldn't have rolled yet
newFilenum
 add up the datanode count, to ensure proper replication when we kill 1
endsWith
desc
server
createTable
log
dfsCluster
This test requires HLog file replication.
admin
Missing datanode should've triggered a log roll
fs
System
getDeclaredMethods
 this write should succeed, but trigger a log roll
assertTrue
canGetCurReplicas
Log should have a timestamp older than now
getLogReplication
repl
table
stopDataNode
 don't run this test without append support (HDFS-200 & HDFS-142)
setAccessible
The log should not roll again.
 kill a datanode in the pipeline to force a log roll on the next sync()
m
pipeline
 Create the test table and open it
isAppend
currentTimeMillis
Need DFSOutputStream.getPipeline() for this test
getOutputStream
New log file should have the default replication
HLog

 Write some more data and flush
cluster
initBuffer
 still have interrupted status.
assertFalse
Got expected exception during flush
conf
/hflush-interrupted
testHFlushInterrupted
p=
fs
System
createFile
hflush
assertTrue
interrupt
Failed to deal with thread interruptions
 create a new file.
write
close
currentThread
 Try again to flush should succeed since we no longer have interrupt status
Got expected exception during close
getFileSystem
interrupted
fileContents
stm
AppendTestUtil
Thread
checkFullFile
 verify that entire file is good
fileLen
p
 Now do a successful close.
build
numDataNodes
DATANODE_NUM
 If we got the exception, we shouldn't have interrupted status anymore.
 Write some data and close while interrupted
shutdown

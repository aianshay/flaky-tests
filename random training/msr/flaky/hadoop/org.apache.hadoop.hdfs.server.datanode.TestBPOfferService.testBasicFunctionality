
ret
getLocalBlock
getBlock
 The DN should have register to both NNs.
waitForInitialization
registerDatanode
start
assertEquals
any
 When we receive a block, it should report it to both NNs
mockNN1
waitForBlockReport
 Should get block reports from both NNs
waitForBlockReceived
testBasicFunctionality
stop
Mockito
verify
notifyNamenodeReceivedBlock
bpos
mockNN2
setupBPOSForNNs
FAKE_BLOCK


cluster
locs
racks
conf
waitForReplication
getBlockManager
dir
createFile
FileSystem
getPath
getFileStatus
exclude
getFileBlockLocations
getWorkingDirectory
workingDir
dfs.hosts.exclude
testNodeDecomissionRespectsRackPolicy
getFileSystem
getNameNode
numDataNodes
mkdirs
Long
name
 Configure an excludes file
 Create a file with one block
getFirstBlock
waitForDecommission
shutdown
 otherwise the rack policy is violated.
ns

   * Test that rack policy is still respected when blocks are replicated
   * due to node decommissioning.
   
/rack2
getNames
/rack1
fs
getDatanodeManager
assertTrue
refreshNodes
excludeFile
writeFile
build/test/data/temp/decommission
DFSTestUtil
b
set
getConf
filePath
toUri
REPLICATION_FACTOR
/testFile
build
getLocal
localFileSys
 Two blocks and four racks
 Check the block still has sufficient # replicas across racks
getNamesystem

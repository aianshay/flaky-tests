cluster
mockResourceChecker
hasAvailableDiskSpace
getName
getAllStackTraces
testCheckThatNameNodeResourceMonitorIsRunning
 Make sure the NNRM thread has a chance to run.
assertFalse
Thread[
conf
NN should not presently be in safe mode
when
System
waitActive
sleep
assertTrue
keySet
nameDir
startMillis
DFSConfigKeys
set
getAbsolutePath
thenReturn
isInSafeMode
getNameNode
Thread
NN resource monitor should be running
setLong
isNameNodeMonitorRunning
runningThreads
NN should be in safe mode after resources crossed threshold
build
Mockito
numDataNodes
currentTimeMillis
name
mock
toString
shutdown
runningThread
getNamesystem
startsWith

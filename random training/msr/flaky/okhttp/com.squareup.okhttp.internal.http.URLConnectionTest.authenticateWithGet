play
server
request
 fail auth three times...
 ...then succeed the fourth time
Successful auth!
client
connection
assertContainsNoneMatching
GET / HTTP/1.1
Authenticator
readAscii
addHeader
getHeaders
takeRequest
Authorization: Basic .*
 no authorization header for the first request...
assertEquals
Authorization: Basic 
WWW-Authenticate: Basic realm="protected area"
setResponseCode
setBody
setDefault
getInputStream
 ...but the three requests that follow requests include an authorization header
assertContains
/
Integer
authenticateWithGet
enqueue
getUrl
getRequestLine
Please authenticate.
open
RecordingAuthenticator
pleaseAuthenticate

deleteList
 Check whether transactions are rolled back or not
Expected exception due to commit failure but didn't get any
addRecordToWfActionTable
PREP
getId
WorkflowInstance
 status should NOT be RUNNING
deactivate
wfBean
addRecordToWfJobTable
assertNotNull
wfUpdateCmd1
get
testBulkUpdatesDeletesRollback
WorkflowJob
updateList
add
getStatusStr
 Add two actions to delete list
wfGetCmd
assertEquals
SkipCommitFaultInjection
execute
setStatus
FaultInjection
1
Services
fail
2
WorkflowAction
org.apache.oozie.command.SkipCommitFaultInjection
setSystemProperty
true
action1
 set fault injection to true, so transaction is roll backed
job
action2
 Add to update list
WF action should not be removed due to rollback but was not found
jpaService

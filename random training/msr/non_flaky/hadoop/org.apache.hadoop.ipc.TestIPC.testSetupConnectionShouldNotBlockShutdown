server
callStarted
conf
run
when
mockFactory
sleep
doAnswer
MIN_SLEEP_TIME
createSocketCalled
get
client
addr
waitFor
set
RANDOM
start
GenericTestUtils
 Track how many times we retried to set up the connection
assertEquals
nextLong
getConnectAddress
Thread
call
NetUtils
createSocket
 stop() should stop the client immediately without any more retries
answer
stop
Mockito
 Start server
mock
addAndGet
fake
 Call a random function asynchronously so that we can call stop()
testSetupConnectionShouldNotBlockShutdown

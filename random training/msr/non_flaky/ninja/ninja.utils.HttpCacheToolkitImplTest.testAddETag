getBooleanWithDefault
 not in prod => no-cache
isProd
DateUtil
 if cache time = 0 => set to no-cache:
 IMPORTANT: etag added
NinjaConstant
no-cache
getMethod
when
getHeader
Result
result
addEtag
1234
max-age=1234
context
formatForHttpHeader
testAddETag
verify
 if not in production => no cache:
 in production => make sure cache header is set accordingly:
 IMPORTANT: etag not added
addHeader
thenReturn
anyString
getWithDefault
 add etag when configured:
eq
 set regular header with request to http cache control constant:
"12___34"
0
"1234"
httpCacheToolkit
never
 test lastmodified is added when etags match:
 => but Last-Modified header is added
GET
reset
 do not add etag when not configured:
ninjaProperties
HttpHeaderConstants
status
